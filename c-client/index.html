<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>匠聘网 - 专业房屋建材蓝领直聘平台</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-orange: #FF6B35;
            --primary-blue: #2A5CAA;
            --navy: #1a1a2e;
            --gold: #D4AF37;
            --silver: #A8A8A8;
            --bronze: #CD7F32;
            --success: #28A745;
            --bg-gray: #f5f7fa;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'PingFang SC', sans-serif; }
        body { background-color: var(--bg-gray); color: #333; overflow-x: hidden; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 15px; }

        /* --- 导航与头部 --- */
        header { background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
        .main-header { padding: 15px 0; display: flex; align-items: center; justify-content: space-between; }
        .logo { font-size: 24px; font-weight: 800; color: var(--primary-blue); text-decoration: none; }
        .logo span { color: var(--primary-orange); }
        .search-container { flex: 1; max-width: 500px; margin: 0 30px; position: relative; }
        .search-container input { width: 100%; padding: 10px 20px; border: 2px solid #eee; border-radius: 25px; outline: none; }
        .search-container button { position: absolute; right: 5px; top: 5px; border: none; background: var(--primary-blue); color: white; padding: 6px 15px; border-radius: 20px; cursor: pointer; }

        /* --- 视图控制器 --- */
        .view-section { display: none; min-height: 80vh; }
        .view-section.active { display: block; }

        /* --- 首页分屏 --- */
        #hub-view { height: calc(100vh - 120px); display: none; }
        #hub-view.active { display: flex; }
        .split-side { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1); color: white; position: relative; }
        .side-worker { background: linear-gradient(135deg, var(--primary-blue) 0%, #1e4580 100%); }
        .side-enterprise { background: linear-gradient(135deg, var(--navy) 0%, #0a0a14 100%); }
        .split-side:hover { flex: 1.5; }
        .split-side i { font-size: 60px; margin-bottom: 20px; }

        /* --- 宫格大类 --- */
        .category-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; padding: 30px 0; }
        .cat-card { background: white; padding: 25px; border-radius: 12px; border: 1px solid #eee; cursor: pointer; transition: 0.3s; }
        .cat-card:hover { border-color: var(--primary-orange); transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .cat-card i { font-size: 30px; color: var(--primary-orange); margin-bottom: 15px; }

        /* --- 技工列表 --- */
        .smart-sort-bar { display: flex; gap: 10px; padding: 15px 0; background: var(--bg-gray); position: sticky; top: 110px; z-index: 10; }
        .sort-btn { padding: 6px 15px; border-radius: 20px; border: 1px solid #ddd; background: white; cursor: pointer; font-size: 13px; }
        .sort-btn.active { background: var(--primary-blue); color: white; border-color: var(--primary-blue); }
        .worker-card { background: white; display: flex; padding: 20px; margin-bottom: 15px; border-radius: 12px; border: 1px solid #eee; position: relative; cursor: pointer; }
        .card-gold { border-left: 5px solid var(--gold); }
        .worker-avatar { width: 80px; height: 80px; border-radius: 10px; object-fit: cover; margin-right: 15px; }
        .price-tag { margin-left: auto; text-align: right; color: var(--primary-orange); font-weight: bold; font-size: 20px; }

        /* --- 各种覆盖层 (Overlay) --- */
        .overlay { position: fixed; top: 0; right: -100%; width: 100%; max-width: 500px; height: 100%; background: white; z-index: 2000; transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1); box-shadow: -10px 0 30px rgba(0,0,0,0.1); overflow-y: auto; }
        .overlay.active { right: 0; }
        .overlay-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: white; z-index: 10; }
        .btn-close { font-size: 24px; cursor: pointer; }

        /* Before/After 滑块 */
        .ba-slider { position: relative; width: 100%; height: 250px; border-radius: 10px; overflow: hidden; margin: 15px 0; }
        .ba-after { width: 100%; height: 100%; background: url('https://images.unsplash.com/photo-1581094794329-c8112a89af12?auto=format&fit=crop&w=800&q=80') center/cover; }
        .ba-before { position: absolute; top: 0; left: 0; width: 50%; height: 100%; border-right: 3px solid white; background: url('https://images.unsplash.com/photo-1581094794329-c8112a89af12?auto=format&fit=crop&w=800&q=80') center/cover; filter: grayscale(1); z-index: 2; }

        /* --- 预约状态/进度 --- */
        .status-container { text-align: center; padding: 30px; }
        .progress-track { display: flex; justify-content: space-between; margin: 40px 0; position: relative; }
        .progress-track::before { content: ""; position: absolute; top: 15px; left: 0; width: 100%; height: 2px; background: #eee; z-index: 1; }
        .step { position: relative; z-index: 2; width: 32px; height: 32px; background: white; border: 2px solid #eee; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; transition: 0.3s; }
        .step.active { border-color: var(--success); background: var(--success); color: white; }
        .step-label { position: absolute; top: 38px; white-space: nowrap; font-size: 12px; color: #999; }

        /* --- 聊天界面 --- */
        #chat-view { display: flex; flex-direction: column; height: 100%; }
        .chat-body { flex: 1; padding: 20px; overflow-y: auto; background: #f9f9f9; }
        .msg { margin-bottom: 15px; display: flex; flex-direction: column; }
        .msg.me { align-items: flex-end; }
        .msg-bubble { max-width: 80%; padding: 10px 15px; border-radius: 15px; font-size: 14px; position: relative; }
        .msg.other .msg-bubble { background: white; border: 1px solid #eee; border-top-left-radius: 2px; }
        .msg.me .msg-bubble { background: var(--primary-blue); color: white; border-top-right-radius: 2px; }
        .chat-footer { padding: 15px; border-top: 1px solid #eee; display: flex; gap: 10px; }
        .chat-footer input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 20px; outline: none; }

        /* --- 评价系统 --- */
        .rating-stars { display: flex; gap: 10px; font-size: 24px; color: #ddd; cursor: pointer; margin: 15px 0; }
        .rating-stars i.active { color: #ffc107; }
        .dimension-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
        textarea.review-text { width: 100%; height: 100px; padding: 15px; border: 1px solid #eee; border-radius: 10px; margin-top: 15px; outline: none; background: #fcfcfc; }

        /* --- 浮动按钮与菜单 --- */
        .fab-container { position: fixed; bottom: 30px; right: 30px; z-index: 3000; }
        .fab-main { width: 60px; height: 60px; background: var(--primary-orange); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); cursor: pointer; transition: 0.3s; }
        .fab-menu { position: absolute; bottom: 70px; right: 0; display: none; flex-direction: column; gap: 10px; }
        .fab-item { width: 120px; background: white; padding: 10px; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); font-size: 13px; text-align: center; cursor: pointer; display: flex; align-items: center; gap: 8px; border: 1px solid #eee; }
        .fab-item:hover { background: #f0f0f0; }

        /* 通用按钮 */
        .btn-full { width: 100%; padding: 15px; border: none; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn-orange { background: var(--primary-orange); color: white; }
        .btn-blue { background: var(--primary-blue); color: white; }

        footer { background: var(--navy); color: #888; padding: 30px 0; text-align: center; font-size: 13px; }
    </style>
</head>
<body>

    <header><div class="container">
        <div class="main-header">
            <a href="javascript:void(0)" onclick="switchView('hub-view')" class="logo">匠聘<span>网</span></a>
            <div class="search-container">
                <input type="text" placeholder="搜索“电路”、“岩板”...">
                <button><i class="fas fa-search"></i> 搜索</button>
            </div>
            <div style="font-size: 14px; font-weight: bold; color: var(--primary-blue);">登录/注册</div>
        </div>
    </div></header>

    <section id="hub-view" class="view-section active">
        <div class="split-side side-worker" onclick="switchView('cat-view')">
            <i class="fas fa-user-hard-hat"></i>
            <h2>蓝领技工板块</h2>
            <p>专业技工 · 极速上门</p>
        </div>
        <div class="split-side side-enterprise" onclick="alert('该板块正在构建中')">
            <i class="fas fa-city"></i>
            <h2>企业联盟板块</h2>
            <p>建筑集采 · 数字化对接</p>
        </div>
    </section>

    <section id="cat-view" class="view-section container">
        <h2 style="padding: 30px 0 10px;">专业服务大类</h2>
        <div class="category-grid" id="cat-grid"></div>
    </section>

    <section id="sub-view" class="view-section container">
        <div style="padding: 20px 0; color: var(--primary-blue); cursor: pointer;" onclick="switchView('cat-view')">
            <i class="fas fa-arrow-left"></i> 返回大类
        </div>
        <h2 id="sub-title">细分服务</h2>
        <div id="sub-list" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px;"></div>
    </section>

    <section id="worker-view" class="view-section container">
        <div style="padding: 20px 0; color: var(--primary-blue); cursor: pointer;" onclick="switchView('sub-view')">
            <i class="fas fa-arrow-left"></i> 返回
        </div>
        <div class="smart-sort-bar">
            <button class="sort-btn active">距离最近</button>
            <button class="sort-btn">好评最高</button>
            <button class="sort-btn">价格最低</button>
        </div>
        <div id="worker-list" style="margin-top: 20px;"></div>
    </section>

    <div id="profile-overlay" class="overlay">
        <div class="overlay-header">
            <h3 id="p-name">师傅详情</h3>
            <i class="fas fa-times btn-close" onclick="closeOverlay('profile-overlay')"></i>
        </div>
        <div style="padding: 20px;">
            <h4>施工日志 (Before & After)</h4>
            <div class="ba-slider" onmousemove="handleBA(event)">
                <div class="ba-after"></div>
                <div class="ba-before" id="ba-drag"></div>
            </div>
            <p style="font-size: 13px; color: #666; margin-bottom: 20px;">解决老旧小区电路老化问题，耗时3小时。</p>
            
            <h4>服务保障</h4>
            <div style="margin: 15px 0;">
                <span style="background: #eef4ff; color: var(--primary-blue); padding: 5px 10px; border-radius: 5px; font-size: 12px; margin-right: 5px;">准时上门</span>
                <span style="background: #eef4ff; color: var(--primary-blue); padding: 5px 10px; border-radius: 5px; font-size: 12px;">价格透明</span>
            </div>
            
            <button class="btn-full btn-orange" style="margin-top: 30px;" onclick="openBooking()">立即预约</button>
        </div>
    </div>

    <div id="success-overlay" class="overlay">
        <div class="overlay-header">
            <h3>订单状态</h3>
            <i class="fas fa-times btn-close" onclick="closeOverlay('success-overlay')"></i>
        </div>
        <div class="status-container">
            <div style="font-size: 40px; color: var(--success); margin-bottom: 10px;"><i class="fas fa-check-circle"></i></div>
            <h2 id="status-title">预约成功</h2>
            <div style="background: #fff3e0; padding: 15px; border-radius: 10px; margin: 20px 0;">
                <p style="font-size: 12px; color: #666;">安全核销码</p>
                <h1 style="letter-spacing: 8px; color: var(--primary-blue);" id="check-code">8866</h1>
            </div>

            <div class="progress-track" id="main-progress">
                <div class="step active">1<span class="step-label">已预约</span></div>
                <div class="step">2<span class="step-label">待上门</span></div>
                <div class="step">3<span class="step-label">施工中</span></div>
                <div class="step">4<span class="step-label">结算评价</span></div>
            </div>

            <div id="status-action-area" style="margin-top: 60px;">
                <button class="btn-full btn-blue" onclick="simulateProgress()">模拟师傅出发 (演示逻辑)</button>
            </div>
        </div>
    </div>

    <div id="chat-overlay" class="overlay">
        <div class="overlay-header">
            <h3 id="chat-target">联系师傅</h3>
            <i class="fas fa-times btn-close" onclick="closeOverlay('chat-overlay')"></i>
        </div>
        <div id="chat-view">
            <div class="chat-body" id="chat-content">
                <div class="msg other">
                    <div class="msg-bubble">您好！我是负责您订单的师傅，请问有什么可以帮您的？</div>
                </div>
            </div>
            <div class="chat-footer">
                <input type="text" id="chat-input" placeholder="输入消息...">
                <button class="btn-blue" style="padding: 10px 20px; border-radius: 20px; border:none;" onclick="sendMsg()">发送</button>
            </div>
        </div>
    </div>

    <div id="rate-overlay" class="overlay">
        <div class="overlay-header">
            <h3>评价服务</h3>
            <i class="fas fa-times btn-close" onclick="closeOverlay('rate-overlay')"></i>
        </div>
        <div style="padding: 20px;">
            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                <img src="https://i.pravatar.cc/100" style="width: 50px; height: 50px; border-radius: 50%;">
                <div>
                    <h4 id="rate-worker-name">师傅姓名</h4>
                    <p style="font-size: 12px; color: #999;">服务类型：水电维修</p>
                </div>
            </div>

            <div class="dimension-row">
                <span>服务态度</span>
                <div class="rating-stars" data-dim="attitude">
                    <i class="fas fa-star" onclick="setStar(this, 1)"></i>
                    <i class="fas fa-star" onclick="setStar(this, 2)"></i>
                    <i class="fas fa-star" onclick="setStar(this, 3)"></i>
                    <i class="fas fa-star" onclick="setStar(this, 4)"></i>
                    <i class="fas fa-star" onclick="setStar(this, 5)"></i>
                </div>
            </div>
            <div class="dimension-row">
                <span>专业技能</span>
                <div class="rating-stars" data-dim="skill">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                </div>
            </div>
            <div class="dimension-row">
                <span>上门速度</span>
                <div class="rating-stars" data-dim="speed">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                </div>
            </div>

            <textarea class="review-text" placeholder="师傅活干得怎么样？分享给其他小伙伴吧..."></textarea>
            
            <button class="btn-full btn-orange" style="margin-top: 30px;" onclick="submitReview()">提交评价</button>
        </div>
    </div>

    <div class="fab-container">
        <div class="fab-menu" id="fab-menu">
            <div class="fab-item" onclick="openChat('师傅')"><i class="fas fa-user-wrench" style="color: var(--primary-orange);"></i> 联系师傅</div>
            <div class="fab-item" onclick="openChat('平台客服')"><i class="fas fa-headset" style="color: var(--primary-blue);"></i> 平台客服</div>
        </div>
        <div class="fab-main" onclick="toggleFab()">
            <i class="fas fa-comments"></i>
        </div>
    </div>

    <footer>
        <p>© 2026 匠聘网 jiangpin.com | 专业蓝领服务直聘平台</p>
    </footer>

    <script>
        // 数据定义
        const cats = [
            { name: "水电暖通", icon: "fa-bolt", subs: ["给排水/消防水", "强弱电/消防电", "通风空调采暖", "电气焊"] },
            { name: "装饰装修", icon: "fa-paint-roller", subs: ["木工", "瓦工", "油漆大白工", "装修水电工", "装修保洁"] },
            { name: "家具门窗", icon: "fa-door-open", subs: ["固定家具制作维修", "门窗制作维修"] },
            { name: "搬运装卸", icon: "fa-truck-loading", subs: ["带车搬运装卸", "力工"] },
            { name: "智能家居", icon: "fa-microchip", subs: ["全屋智能调试", "家电维修"] }
        ];

        const workers = [
            { name: "张师傅", tier: "Gold", price: 200, rating: 4.9, dist: "0.8km" },
            { name: "李师傅", tier: "Silver", price: 150, rating: 4.7, dist: "1.2km" },
            { name: "王师傅", tier: "Bronze", price: 100, rating: 4.5, dist: "2.5km" }
        ];

        let currentStep = 1;

        // 视图切换
        function switchView(id) {
            document.querySelectorAll('.view-section').forEach(v => v.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id === 'cat-view') renderCats();
            window.scrollTo(0,0);
        }

        // 渲染大类
        function renderCats() {
            const grid = document.getElementById('cat-grid');
            grid.innerHTML = cats.map(c => `
                <div class="cat-card" onclick="renderSubs('${c.name}')">
                    <i class="fas ${c.icon}"></i>
                    <h3>${c.name}</h3>
                    <p>${c.subs.slice(0,3).join(' · ')}...</p>
                </div>
            `).join('');
        }

        // 渲染小类
        function renderSubs(catName) {
            const cat = cats.find(c => c.name === catName);
            document.getElementById('sub-title').innerText = catName;
            const list = document.getElementById('sub-list');
            list.innerHTML = cat.subs.map(s => `
                <div style="background:white; padding:15px; border-radius:10px; border:1px solid #eee; cursor:pointer;" onclick="renderWorkers()">
                    ${s} <i class="fas fa-chevron-right" style="float:right; color:#ccc;"></i>
                </div>
            `).join('');
            switchView('sub-view');
        }

        // 渲染技工列表
        function renderWorkers() {
            const list = document.getElementById('worker-list');
            list.innerHTML = workers.map(w => `
                <div class="worker-card card-${w.tier.toLowerCase()}" onclick="openProfile('${w.name}')">
                    <img src="https://i.pravatar.cc/100?u=${w.name}" class="worker-avatar">
                    <div>
                        <h3 style="margin-bottom:5px;">${w.name} <span style="font-size:12px; color:var(--gold)">[${w.tier}]</span></h3>
                        <p style="font-size:13px; color:#888;">⭐ ${w.rating} | 距离 ${w.dist}</p>
                        <p style="font-size:12px; color:var(--primary-blue); margin-top:5px;">15年经验 / 持证上岗</p>
                    </div>
                    <div class="price-tag">¥${w.price}<br><span style="font-size:10px; color:#999; font-weight:normal;">起</span></div>
                </div>
            `).join('');
            switchView('worker-view');
        }

        // Overlay 控制
        function closeOverlay(id) { document.getElementById(id).classList.remove('active'); }
        function openProfile(name) {
            document.getElementById('p-name').innerText = name + " 师傅详情";
            document.getElementById('profile-overlay').classList.add('active');
        }

        // Before/After 滑动逻辑
        function handleBA(e) {
            const rect = e.currentTarget.getBoundingClientRect();
            const x = e.clientX - rect.left;
            document.getElementById('ba-drag').style.width = (x / rect.width * 100) + '%';
        }

        // 预约逻辑
        function openBooking() {
            closeOverlay('profile-overlay');
            const code = Math.floor(1000 + Math.random() * 9000);
            document.getElementById('check-code').innerText = code;
            document.getElementById('success-overlay').classList.add('active');
        }

        // 模拟进度流转
        function simulateProgress() {
            currentStep++;
            const steps = document.querySelectorAll('#main-progress .step');
            if(currentStep <= 4) {
                steps[currentStep-1].classList.add('active');
                if(currentStep === 2) {
                    document.getElementById('status-title').innerText = "师傅正在赶来";
                    document.getElementById('status-action-area').innerHTML = `<button class="btn-full btn-blue" onclick="simulateProgress()">师傅已到场，开始施工</button>`;
                } else if(currentStep === 3) {
                    document.getElementById('status-title').innerText = "服务施工中";
                    document.getElementById('status-action-area').innerHTML = `<button class="btn-full btn-orange" onclick="simulateProgress()">确认服务完成 (去结算)</button>`;
                } else if(currentStep === 4) {
                    document.getElementById('status-title').innerText = "服务已完成";
                    document.getElementById('status-action-area').innerHTML = `<button class="btn-full btn-orange" onclick="openRate()">立即评价师傅</button>`;
                }
            }
        }

        // 聊天系统
        function toggleFab() {
            const menu = document.getElementById('fab-menu');
            menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
        }

        function openChat(target) {
            document.getElementById('chat-target').innerText = "正在与" + target + "通话中";
            document.getElementById('chat-overlay').classList.add('active');
            toggleFab();
        }

        function sendMsg() {
            const input = document.getElementById('chat-input');
            if(!input.value) return;
            const content = document.getElementById('chat-content');
            content.innerHTML += `<div class="msg me"><div class="msg-bubble">${input.value}</div></div>`;
            input.value = '';
            content.scrollTop = content.scrollHeight;
            // 自动回复
            setTimeout(() => {
                content.innerHTML += `<div class="msg other"><div class="msg-bubble">收到，正在处理。</div></div>`;
                content.scrollTop = content.scrollHeight;
            }, 1000);
        }

        // 评价系统
        function openRate() {
            closeOverlay('success-overlay');
            document.getElementById('rate-overlay').classList.add('active');
        }

        // 设置星星
        document.querySelectorAll('.rating-stars i').forEach((star, index) => {
            star.addEventListener('click', function() {
                const parent = this.parentElement;
                const stars = parent.querySelectorAll('i');
                stars.forEach((s, i) => {
                    if(i <= index) s.classList.add('active');
                    else s.classList.remove('active');
                });
            });
        });

        function submitReview() {
            alert('评价提交成功！感谢您的反馈。');
            closeOverlay('rate-overlay');
            switchView('hub-view');
        }

        // 初始化
        switchView('hub-view');
    </script>
</body>
</html>