<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>蓝领技工板块 - 交互演示版</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
    </style>
</head>
<body class="bg-gray-50">

    <section class="p-6 bg-white shadow-sm">
        <h2 class="text-lg font-bold mb-4">选择服务种类</h2>
        <div class="grid grid-cols-4 gap-4">
            <button onclick="filterWorkers('刷墙')" class="flex flex-col items-center gap-2 group">
                <div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600 group-focus:bg-orange-600 group-focus:text-white transition">
                    <i class="fas fa-paint-roller text-xl"></i>
                </div>
                <span class="text-xs">刷墙</span>
            </button>
            <button onclick="filterWorkers('安装')" class="flex flex-col items-center gap-2 group">
                <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 group-focus:bg-blue-600 group-focus:text-white transition">
                    <i class="fas fa-hammer text-xl"></i>
                </div>
                <span class="text-xs">安装</span>
            </button>
            <button onclick="filterWorkers('贴瓷砖')" class="flex flex-col items-center gap-2 group">
                <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center text-green-600 group-focus:bg-green-600 group-focus:text-white transition">
                    <i class="fas fa-border-all text-xl"></i>
                </div>
                <span class="text-xs">贴瓷砖</span>
            </button>
            <button onclick="filterWorkers('维修')" class="flex flex-col items-center gap-2 group">
                <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center text-purple-600 group-focus:bg-purple-600 group-focus:text-white transition">
                    <i class="fas fa-faucet text-xl"></i>
                </div>
                <span class="text-xs">维修</span>
            </button>
        </div>
    </section>

    <main class="p-4 space-y-4" id="workerList">
        <h2 class="text-lg font-bold" id="listTitle">推荐优质技工</h2>
        
        <div class="worker-card bg-white rounded-2xl p-4 shadow-sm border border-gray-100" data-category="贴瓷砖">
            <div class="flex justify-between items-start">
                <div class="flex gap-3">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Worker1" class="w-14 h-14 rounded-full bg-gray-100 border">
                    <div>
                        <h3 class="font-bold text-gray-900">王建设师傅 <span class="text-xs font-normal text-gray-400">贴瓷砖/刷墙</span></h3>
                        <div class="mt-1 flex items-center gap-2">
                            <span onclick="showLubanDetail()" class="cursor-pointer bg-orange-500 text-white text-[10px] px-1.5 py-0.5 rounded font-bold italic">Luban Score: 92</span>
                            <span class="text-[10px] text-green-600 font-bold"><i class="fas fa-shield-alt"></i> 雇主责任险已覆盖</span>
                        </div>
                    </div>
                </div>
                <div class="text-right"><span class="text-xs text-gray-400">距离 800m</span></div>
            </div>

            <div class="mt-4 flex flex-wrap gap-2">
                <span class="text-[10px] bg-blue-50 text-blue-600 px-2 py-1 rounded-full">实名已认证</span>
                <span class="text-[10px] bg-purple-50 text-purple-600 px-2 py-1 rounded-full">电工证 OCR 已核验</span>
                <span class="text-[10px] bg-green-50 text-green-700 px-2 py-1 rounded-full">无犯罪记录证明</span>
            </div>

            <button onclick="openEscrowModal()" class="w-full mt-4 bg-orange-600 text-white py-2 rounded-xl text-sm font-bold shadow-lg">立即预约 / 资金托管</button>
        </div>
    </main>

    <div id="escrowModal" class="modal flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl w-full max-w-sm p-6 relative">
            <h3 class="text-center font-bold text-lg mb-4">服务托管流程</h3>
            <div class="space-y-4 text-sm">
                <div class="flex gap-3 items-start">
                    <div class="bg-orange-100 text-orange-600 w-6 h-6 rounded-full flex items-center justify-center text-xs flex-shrink-0">1</div>
                    <p><b>预付托管资金</b>：资金由平台监管，师傅开工更有动力。</p>
                </div>
                <div class="flex gap-3 items-start">
                    <div class="bg-gray-100 text-gray-600 w-6 h-6 rounded-full flex items-center justify-center text-xs flex-shrink-0">2</div>
                    <p><b>阶段验收</b>：通过施工前/后照片流确认工程进度。</p>
                </div>
                <div class="flex gap-3 items-start">
                    <div class="bg-gray-100 text-gray-600 w-6 h-6 rounded-full flex items-center justify-center text-xs flex-shrink-0">3</div>
                    <p><b>满意放款</b>：确认收货后，平台将资金拨付给师傅。</p>
                </div>
            </div>
            <button onclick="closeEscrowModal()" class="w-full mt-6 bg-gray-900 text-white py-2 rounded-xl text-sm">我知道了</button>
        </div>
    </div>

    <script>
        // 筛选功能
        function filterWorkers(category) {
            const cards = document.querySelectorAll('.worker-card');
            const title = document.getElementById('listTitle');
            title.innerText = `推荐优质 - ${category}技工`;
            
            cards.forEach(card => {
                // 简单的分类包含逻辑
                if (card.getAttribute('data-category').includes(category)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // 托管弹窗控制
        function openEscrowModal() { document.getElementById('escrowModal').style.display = 'flex'; }
        function closeEscrowModal() { document.getElementById('escrowModal').style.display = 'none'; }

        // 鲁班分计算逻辑演示
        function showLubanDetail() {
            alert("鲁班分 (Luban Score) 构成：\n- 身份特质 (20%)\n- 履约能力 (50%)\n- 行为偏好 (15%)\n- 用户评价 (15%)");
        }
    </script>
</body>
</html>